{% extends "layout-student.html" %}

{% block body %}

<div class="content-container bg-dark text-light student-home min-vh-100">
    <div class="student-home-title border-bottom">
        <h1>Welcome, {{ session.get('username', 'Student') }}</h1>
    </div>
    <div class="student-home-content bg-dark text-light">
        <h2 class="mb-5 ml-2"><u>Assigned Lists:</u></h2>
        <div class="row mt-2">
            <div class="student-home-lists d-flex flex-wrap justify-content-flex-start col-8 border-right mt-2">
                {% for list in lists %}
                <div class="col-sm-8 col-md-8 col-lg-4 mb-4">
                    <div class="card text-light border-light" style="background-color: #353535;">
                        <div class="card-body text-center d-flex flex-column">
                            <h5 class="card-title mb-3">{{ list['name'] }}</h5>
                            <a href="/student_list/{{ list['id'] }}/0" class="btn btn-secondary mt-auto">View List</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="user-profile col-4">
                <div class="card bg-dark text-light border-light mt-3">
                    <div class="card-body text-center">
                        <div class="mt-3 mb-4">
                            <img src="{{ url_for('static', filename='user_icon.png') }}" alt="Profile Picture"
                            class="rounded-circle img-fluid" style="width: 100px;" />
                        </div>
                        <h4 class="mb-2">{{session['f_name']}} {{session['l_name']}} </h4>
                        <p class="text-muted mb-4">Student</p>
                        <div class="user-info text-start px-3 mb-3 pt-3 border-top">
                            <p class="card-text d-block mb-2"><b>Username:</b> {{ session['username'] }}</p>
                            <p class="card-text d-block mb-2"><b>Email:</b> {{ session['email'] }}</p>
                            <p class="card-text d-block mb-2"><b>Lists Assigned:</b> {{ lists|length }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}